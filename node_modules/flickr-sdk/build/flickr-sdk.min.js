// Copyright 2016 Yahoo Inc.
// Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports=function(schema,operationId){var path;var verb;for(path in schema.paths){if(!schema.paths.hasOwnProperty(path)){continue}for(verb in schema.paths[path]){if(!schema.paths[path].hasOwnProperty(verb)){continue}if(schema.paths[path][verb].operationId===operationId){return{schema:schema,path:path,verb:verb}}}}throw new Error("Unsupported operation: "+operationId+" ("+schema.info.version+")")}},{}],2:[function(require,module,exports){(function(process){var Promise=require("native-promise-only");var request=require("superagent");var except=require("except");var Backoff=require("backo");var backoff=new Backoff({min:100,max:1e4,jitter:0,factor:2});var retryErrors=require("./retryerrors.js");var merge=require("deepmerge");var validate=require("./validate.js");var generateURL=require("./generate-url.js");var headers=require("./headers.js");var crypto=process.browser?require("../shims/crypto-client"):require("../shims/crypto-server");var FlickrTransport=function(config,options){if(!config.timeout){config.timeout=15e3}if(!config.retries){config.retries=3}if(!config.onProgress){config.onProgress=function(){}}this.config=config;this.retries=3;this.plugins=[];this.log=function(message){if(options&&options.logger&&typeof options.logger.log==="function"){options.logger.log(message)}}};FlickrTransport.prototype.createSignature=function(req,params,signingSecret){var baseString=req.method.toUpperCase()+"&"+encodeURIComponent(req.url)+"&",signingKey=this.config.apiSecret+"&"+(signingSecret||"");Object.keys(params).sort().forEach(function(key,i){baseString+=i>0?encodeURIComponent("&"):"";baseString+=encodeURIComponent(key+"="+params[key])});return crypto.createHmac("sha1",signingKey).update(baseString).digest("base64")};FlickrTransport.prototype.createNonce=function(){return crypto.createHash("sha1").update(String(Date.now())).digest("hex")};FlickrTransport.prototype.shouldRetry=function(error,response){return retryErrors.some(function(check){return check(error,response)})};FlickrTransport.prototype.defaults=function(req){return{format:"json",nojsoncallback:1}};FlickrTransport.prototype.usePlugins=function(plugins){return function(req){if(plugins.length>0){plugins.forEach(function(plugin){req.use(plugin)})}}};FlickrTransport.prototype.attachFile=function(params){return function(req){if(params.photo){req.attach("photo",params.photo)}}};FlickrTransport.prototype.oAuth=function(params,auth,isUpload){var flickrTransport=this;return function(req){if(isUpload){var oauthParams={oauth_consumer_key:flickrTransport.config.apiKey,oauth_token:auth.accessToken,oauth_version:"1.0",oauth_timestamp:Math.round(Date.now()/1e3),oauth_nonce:flickrTransport.createNonce(),oauth_signature_method:"HMAC-SHA1"};oauthParams=merge(oauthParams,flickrTransport.defaults(req));Object.keys(oauthParams).forEach(function(oauthParam){if(typeof oauthParams[oauthParam]!=="undefined"){req.field(oauthParam,oauthParams[oauthParam])}});req.field("oauth_signature",flickrTransport.createSignature(req,merge(params,oauthParams),auth.accessTokenSecret))}else{var oauthParams={oauth_consumer_key:flickrTransport.config.apiKey,oauth_token:auth.accessToken,oauth_version:"1.0",oauth_timestamp:Math.round(Date.now()/1e3),oauth_nonce:flickrTransport.createNonce(),oauth_signature_method:"HMAC-SHA1"};oauthParams=merge(oauthParams,flickrTransport.defaults(req));req.query(oauthParams);req.query({oauth_signature:flickrTransport.createSignature(req,merge(params,oauthParams),auth.accessTokenSecret)})}}};FlickrTransport.prototype.call=function(definition,params,auth,additionalParams,transportConfig){var flickrTransport=this;if(process.browser&&flickrTransport.config&&flickrTransport.config.apiSecret){throw new Error("Embedding your API secret in the browser could allow a malicious third-party to make API calls using your key.  Making authenticated API calls is disabled in the browser using this SDK at the moment.")}var schema=definition.schema;var path=definition.path;var verb=definition.verb;var config=schema.paths[path][verb];var operationId=config.operationId;var startTime=(new Date).getTime();var defaultParamExceptions=["photo","url","arguments","headers"];var nonQueryParams=[];var responseHeaders={};var responseBody;auth=auth||{};var apiParams=merge(params,additionalParams||{});Object.keys(apiParams).forEach(function(paramKey){if(apiParams[paramKey]===null){delete apiParams[paramKey]}});return new Promise(function(resolve,reject){var validationErrors=validate(apiParams,config.parameters);if(validationErrors.length>0){reject(validationErrors);return}var uri=generateURL(definition,apiParams,merge(flickrTransport.config,transportConfig||{}));config.parameters.forEach(function(configParam){if(configParam.in!=="query"){nonQueryParams.push(configParam.name)}});var oauthParams=except(apiParams,defaultParamExceptions.concat(nonQueryParams));flickrTransport.log("Starting "+verb+" API call to "+uri);function makeRequest(){request(verb,uri).use(function(request){if(!process.browser){request.set("Cookie",flickrTransport.config.cookie||"")}return request}).use(function(request){request.query(oauthParams);if(verb==="post"){request.send(apiParams)}return request}).use(flickrTransport.attachFile(apiParams)).use(function(request){if(operationId!=="getRequestToken"&&operationId!=="getAccessToken"){return flickrTransport.oAuth(oauthParams,auth,apiParams.photo)(request)}return request}).use(flickrTransport.usePlugins(flickrTransport.plugins)).end(handleRequest);flickrTransport.plugins=[]}function handleRequest(err,res){flickrTransport.log("Finished "+verb+" API call to "+uri+" in "+((new Date).getTime()-startTime)+"ms");flickrTransport.retries--;if(err){if(flickrTransport.retries>0&&flickrTransport.shouldRetry(err,res)){setTimeout(makeRequest,backoff.duration())}else{flickrTransport.resetRetries();reject(err);return}}else{if(res.body&&Object.keys(res.body).length===0&&res.text.match(/xml/)){if(res.text.match(/stat="fail"/)){flickrTransport.resetRetries();reject({code:res.text.match(/code="([0-9]+)"/)[1],message:res.text.match(/msg="([A-Za-z0-9\-\s]+)"/)[1]});return}else{flickrTransport.resetRetries();responseBody={photoID:res.text.match(/<photoid>([0-9]+)<\/photoid>/)[1]}}}else{if(res.body&&res.body.stat==="fail"){flickrTransport.resetRetries();reject(res.body);return}else{flickrTransport.resetRetries();responseBody=res.body}}Object.keys(res.headers).forEach(function(headerKey){if(headers[headerKey]){responseHeaders[headers[headerKey]]=res.headers[headerKey]}});responseBody=responseBody||{};if(res.type==="text/plain"&&(operationId==="getRequestToken"||operationId==="getAccessToken")){var values=(res.text||"").split("&");values.forEach(function(keyPair){var keyVal=keyPair.split("=");if(keyVal.length>1){responseBody[keyVal[0]]=keyVal[1]}})}resolve({headers:responseHeaders,body:responseBody})}}makeRequest()})};FlickrTransport.prototype.resetRetries=function(){backoff.reset();this.retries=3};module.exports=FlickrTransport}).call(this,require("_process"))},{"../shims/crypto-client":28,"../shims/crypto-server":29,"./generate-url.js":3,"./headers.js":4,"./retryerrors.js":5,"./validate.js":13,_process:15,backo:14,deepmerge:16,except:17,"native-promise-only":21,superagent:22}],3:[function(require,module,exports){var join=require("path").join;module.exports=function(definition,params,transportConfig){var schema=definition.schema;var path=definition.path;var verb=definition.verb;var config=schema.paths[path][verb];var http="https";var host=transportConfig&&transportConfig.host?transportConfig.host:schema.host;var basePath=transportConfig&&transportConfig.basePath?transportConfig.basePath:schema.basePath||"";if(schema.schemes&&schema.schemes[0]){http=schema.schemes[0]}if(transportConfig&&transportConfig.scheme){http=transportConfig.scheme}if(config&&config.parameters){config.parameters.forEach(function(paramConfig){if(paramConfig.in==="path"&&typeof params[paramConfig.name]!=="undefined"){path=path.replace("{"+paramConfig.name+"}",params[paramConfig.name])}})}path=path.replace(/\/{[a-zA-Z_]+}/,"");return http+"://"+host+join(basePath,path)}},{path:15}],4:[function(require,module,exports){module.exports={"x-total-count":"totalCount",link:"link",etag:"etag"}},{}],5:[function(require,module,exports){function econnreset(err,res){return err&&err.code==="ECONNRESET"}function etimedout(err,res){return err&&err.code==="ETIMEDOUT"}function eaddrinfo(err,res){return err&&err.code==="EADDRINFO"}function esockettimedout(err,res){return err&&err.code==="ESOCKETTIMEDOUT"}function gateway(err,res){return res&&[502,503,504].indexOf(res.status)!==-1}function timeout(err,res){return err&&/^timeout of \d+ms exceeded$/.test(err.message)}module.exports=[econnreset,etimedout,eaddrinfo,esockettimedout,gateway,timeout]},{}],6:[function(require,module,exports){var apiV1=require("flickr-api-swagger");module.exports=function(albumID){var request=this;return{media:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getAlbumByID"),{photoset_id:albumID},request.auth,additionalParams)}}}}}},{"flickr-api-swagger":20}],7:[function(require,module,exports){(function(process){var apiV1=require("flickr-api-swagger");var generateURL=require("../generate-url.js");function getRequestToken(request,oauthCallback){var oauthParams={oauth_nonce:request.sdk.transport.createNonce(),oauth_timestamp:""+Math.round(Date.now()/1e3),oauth_signature_method:"HMAC-SHA1",oauth_version:"1.0",oauth_consumer_key:request.sdk.transport.config.apiKey,oauth_callback:encodeURIComponent(oauthCallback)},decoratedRequest=request,definition=request.sdk.findDefinition(apiV1,"getRequestToken");decoratedRequest.method=definition.verb;decoratedRequest.url=generateURL(definition);oauthParams["oauth_signature"]=request.sdk.transport.createSignature(decoratedRequest,oauthParams);oauthParams["oauth_callback"]=oauthCallback;return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getRequestToken"),oauthParams).then(function(response){var returnObj=response.body;returnObj.authorizationURL=definition.schema.schemes[0]+"://"+definition.schema.host+definition.schema.basePath+"/oauth/authorize?oauth_token="+response.body.oauth_token;return returnObj})}function getAccessToken(request,oauthToken,oauthTokenSecret,oauthVerifier){var oauthParams={oauth_nonce:request.sdk.transport.createNonce(),oauth_timestamp:""+Math.round(Date.now()/1e3),oauth_signature_method:"HMAC-SHA1",oauth_version:"1.0",oauth_consumer_key:request.sdk.transport.config.apiKey,oauth_token:oauthToken,oauth_verifier:oauthVerifier},decoratedRequest=request,definition=request.sdk.findDefinition(apiV1,"getAccessToken");decoratedRequest.method=definition.verb;decoratedRequest.url=generateURL(definition);oauthParams["oauth_signature"]=request.sdk.transport.createSignature(decoratedRequest,oauthParams,oauthTokenSecret);return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getAccessToken"),oauthParams,{}).then(function(response){return response.body})}module.exports=function(){var request=this;if(process.browser){throw new Error("Authentication is not supported in the browser at this time.")}return{prepareRequestToken:function(oauthCallbackURI){if(process.browser){console.warn("It is stringly discouraged to make this call from a browser. See github.com/flickr/flickr for more details.")}return getRequestToken(request,oauthCallbackURI)},authenticateUser:function(requestToken,requestTokenSecret,requestTokenVerifier){return new Promise(function(resolve,reject){var requestTokenDefinition=request.sdk.findDefinition(apiV1,"getRequestToken");var requestURL=requestTokenDefinition.schema.schemes[0]+"://"+requestTokenDefinition.schema.host+requestTokenDefinition.schema.basePath+"/oauth/authorize?oauth_token="+requestToken;if(!process.browser){if(!requestTokenVerifier){reject(new Error("You must specify the request token verifier."))}resolve({oauth_verifier:requestTokenVerifier})}else{var popup=window.open(requestURL);window["flickr-sdk-auth-success"]=function(data){resolve(data)};window["flickr-sdk-auth-failure"]=function(data){reject(data)}}}).then(function(data){return getAccessToken(request,requestToken,requestTokenSecret,data.oauth_verifier)})}}}}).call(this,require("_process"))},{"../generate-url.js":3,_process:15,"flickr-api-swagger":20}],8:[function(require,module,exports){var apiV1=require("flickr-api-swagger");module.exports=function(galleryID){var request=this;return{media:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getGalleryPhotosByID"),{gallery_id:galleryID},request.auth,additionalParams)}}}}}},{"flickr-api-swagger":20}],9:[function(require,module,exports){var apiV1=require("flickr-api-swagger");module.exports=function(groupID){var request=this;return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getGroupByID"),{group_id:groupID},request.auth,additionalParams)},media:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getGroupPhotosByID"),{group_id:groupID},request.auth,additionalParams)}}},discussions:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getGroupDiscussionsByID"),{group_id:groupID},request.auth,additionalParams)}}}}}},{"flickr-api-swagger":20}],10:[function(require,module,exports){var apiV1=require("flickr-api-swagger");var nsidRegex=new RegExp("^[0-9]+@N[0-9]+$");module.exports=function(mediaID){var request=this;return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getPhotoByID"),{photo_id:mediaID},request.auth,additionalParams)},post:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"uploadPhoto"),{},request.auth,additionalParams)},sizes:function(){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getPhotoSizesByID"),{photo_id:mediaID},request.auth)},search:function(searchQuery){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getMediaBySearch"),{text:searchQuery},request.auth,additionalParams)}}},context:function(contextSize){return{photolist:function(photolistID){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getPhotolistContextByID"),{photo_id:mediaID,photolist_id:photolistID,num_next:contextSize,num_prev:contextSize},request.auth,additionalParams)}}},album:function(albumID){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getAlbumContextByID"),{photo_id:mediaID,photoset_id:albumID,num_next:contextSize,num_prev:contextSize},request.auth,additionalParams)}}},sharedEntity:function(shareID,shareOwner){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getAlbumContextByID"),{photo_id:mediaID,share_code:shareID,share_owner:shareOwner,gp_code:shareID,gp_owner:shareOwner,num_next:contextSize,num_prev:contextSize},request.auth,additionalParams)}}},photostream:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getPhotostreamContextByID"),{photo_id:mediaID,num_next:contextSize,num_prev:contextSize},request.auth,additionalParams)}}},favorites:function(personID){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getFavoritesContextByID"),{photo_id:mediaID,user_id:nsidRegex.test(personID)?personID:null,path_alias:nsidRegex.test(personID)?null:personID,num_next:contextSize,num_prev:contextSize},request.auth,additionalParams)}}}}}}}},{"flickr-api-swagger":20}],11:[function(require,module,exports){var apiV1=require("flickr-api-swagger");module.exports=function(personID){var request=this;return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getPersonByID"),{user_id:personID},request.auth,additionalParams)},media:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getMediaByPersonID"),{user_id:personID},request.auth,additionalParams)}}},favorites:function(){return{media:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getFavoritesByPersonID"),{user_id:personID},request.auth,additionalParams)}}}}},albums:function(){return{get:function(additionalParams){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"getAlbumsByPersonID"),{user_id:personID},request.auth,additionalParams)}}}}}},{"flickr-api-swagger":20}],12:[function(require,module,exports){var apiV1=require("flickr-api-swagger");module.exports=function(){var request=this;return{echo:function(){return request.sdk.transport.call(request.sdk.findDefinition(apiV1,"echo"),{echo:"hello world"},request.auth,{})}}}},{"flickr-api-swagger":20}],13:[function(require,module,exports){var except=require("except");module.exports=function(params,paramConfig){var cleanParams=except(params,["api_key"]);var paramConfigObject={};var errors=[];paramConfig.forEach(function(param){paramConfigObject[param.name]=param});var requiredParams=Object.keys(paramConfigObject).filter(function(key){return paramConfigObject[key].required&&key!=="api_key"});requiredParams.forEach(function(requiredParam){if(typeof cleanParams[requiredParam]==="undefined"){errors.push("Required param - "+requiredParam+" - not specified")}});Object.keys(paramConfigObject).forEach(function(paramKey){if(cleanParams[paramKey]){if(paramConfigObject[paramKey].type){var paramValue=cleanParams[paramKey];var actualType=typeof paramValue==="number"?Math.floor(paramValue)===paramValue?"integer":"number":typeof paramValue;actualType=typeof File!=="undefined"&&paramValue instanceof File?"file":actualType;var expectedType=paramConfigObject[paramKey].type;actualType=expectedType==="file"&&actualType==="string"?"file":actualType;actualType=expectedType==="number"&&actualType==="integer"?"number":actualType;if(actualType!==expectedType){errors.push("Param "+paramKey+" with type "+actualType+" not of the expected type: "+expectedType)}}if(paramConfigObject[paramKey].enum&&paramConfigObject[paramKey].enum.indexOf(cleanParams[paramKey])<0){errors.push("Param "+paramKey+" with value "+cleanParams[paramKey]+" not one of possible options: ["+paramConfigObject[paramKey].enum.join(", ")+"]")}if(paramConfigObject[paramKey].type==="string"&&paramConfigObject[paramKey].pattern){if(typeof cleanParams[paramKey]==="string"&&!cleanParams[paramKey].match(new RegExp(paramConfigObject[paramKey].pattern))){errors.push("Param "+paramKey+" with value "+cleanParams[paramKey]+" doesn't match pattern "+paramConfigObject[paramKey].pattern)}}}});return errors}},{except:17}],14:[function(require,module,exports){module.exports=Backoff;function Backoff(opts){opts=opts||{};this.ms=opts.min||100;this.max=opts.max||1e4;this.factor=opts.factor||2;this.jitter=opts.jitter>0&&opts.jitter<=1?opts.jitter:0;this.attempts=0}Backoff.prototype.duration=function(){var ms=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var rand=Math.random();var deviation=Math.floor(rand*this.jitter*ms);ms=(Math.floor(rand*10)&1)==0?ms-deviation:ms+deviation}return Math.min(ms,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0}},{}],15:[function(require,module,exports){},{}],16:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.deepmerge=factory()}})(this,function(){return function deepmerge(target,src){var array=Array.isArray(src);var dst=array&&[]||{};if(array){target=target||[];dst=dst.concat(target);src.forEach(function(e,i){if(typeof dst[i]==="undefined"){dst[i]=e}else if(typeof e==="object"){dst[i]=deepmerge(target[i],e)}else{if(target.indexOf(e)===-1){dst.push(e)}}})}else{if(target&&typeof target==="object"){Object.keys(target).forEach(function(key){dst[key]=target[key]})}Object.keys(src).forEach(function(key){if(typeof src[key]!=="object"||!src[key]){dst[key]=src[key]}else{if(!target[key]){dst[key]=src[key]}else{dst[key]=deepmerge(target[key],src[key])}}})}return dst}})},{}],17:[function(require,module,exports){"use strict";var ap=Array.prototype;var concat=ap.concat;var slice=ap.slice;var indexOf=require("indexof");function except(object){var result={};var keys=concat.apply(ap,slice.call(arguments,1));for(var key in object){if(indexOf(keys,key)===-1){result[key]=object[key]}}return result}module.exports=except},{indexof:18}],18:[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}},{}],19:[function(require,module,exports){module.exports={swagger:"2.0",info:{title:"Flickr API Schema",description:"A subset of Flickr's API defined in Swagger format.",termsOfService:"https://www.flickr.com/services/api/tos/",version:"1.0.0"},basePath:"/services",host:"api.flickr.com",schemes:["https"],consumes:["multipart/form-data"],produces:["application/json"],paths:{"/rest?method=flickr.favorites.getList":{get:{operationId:"getFavoritesByPersonID",description:"Returns a list of the user's favorite photos. Only photos which the calling user has permission to see are returned.",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"user_id",in:"query",required:true,type:"string"},{name:"min_fave_date",in:"query",type:"number"},{name:"max_fave_date",in:"query",type:"number"},{name:"page",in:"query",type:"number"},{name:"per_page",in:"query",type:"number"}],responses:{200:{description:"OK",schema:{type:"object",properties:{page:{type:"number"},pages:{type:"number"},perpage:{type:"number"},total:{type:"number"},photos:{type:"array",items:{$ref:"#/definitions/Photo"}}}}}}}},"/rest?method=flickr.people.getPhotos":{get:{operationId:"getMediaByPersonID",description:"Return photos from the given user's photostream",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"user_id",in:"query",required:true,type:"string"},{name:"safe_search",in:"query",type:"number"},{name:"min_upload_date",in:"query",type:"number"},{name:"max_upload_date",in:"query",type:"number"},{name:"min_taken_date",in:"query",type:"number"},{name:"max_taken_date",in:"query",type:"number"},{name:"content_type",in:"query",type:"number"},{name:"privacy_filter",in:"query",type:"number"},{name:"page",in:"query",type:"number"},{name:"per_page",in:"query",type:"number"}],responses:{200:{description:"OK",schema:{type:"object",properties:{page:{type:"number"},pages:{type:"number"},perpage:{type:"number"},total:{type:"number"},photos:{type:"array",items:{$ref:"#/definitions/Photo"}}}}}}}},"/rest?method=flickr.photosets.getList":{get:{operationId:"getAlbumsByPersonID",description:"Returns the albums belonging to the specified user",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"user_id",in:"query",required:true,type:"string"},{name:"page",in:"query",type:"number"},{name:"per_page",in:"query",type:"number"}],responses:{200:{description:"OK",schema:{type:"object",properties:{page:{type:"number"},pages:{type:"number"},perpage:{type:"number"},total:{type:"number"},photosets:{type:"array",items:{$ref:"#/definitions/Album"}}}}}}}},"/rest?method=flickr.favorites.getContext":{get:{operationId:"getFavoritesContextByID",description:"Returns next and previous favorites for a photo in a user's favorites",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"user_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{count:{type:"object",properties:{_content:{type:"string"}}},prevphoto:{$ref:"#/definitions/ContextPhoto"},nextphoto:{$ref:"#/definitions/ContextPhoto"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.groups.getInfo":{get:{operationId:"getGroupByID",description:"Get information about a group",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"group_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"},{name:"group_path_alias",in:"query",required:false,type:"string"},{name:"lang",in:"query",required:false,type:"string"}],responses:{200:{description:"OK",schema:{type:"object",properties:{group:{$ref:"#/definitions/Group"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.groups.pools.getPhotos":{get:{operationId:"getGroupPhotosByID",description:"Returns a list of pool photos for a given group",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"group_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{photos:{type:"array",items:{$ref:"#/definitions/Photo"}}}}}}}},"/rest?method=flickr.groups.discuss.topics.getList":{get:{operationId:"getGroupDiscussionsByID",description:"Get a list of discussion topics in a group.",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"group_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"},{name:"page",in:"query",type:"number"},{name:"per_page",in:"query",type:"number"}],responses:{200:{description:"OK",schema:{type:"object",properties:{iconserver:{type:"number"},iconfarm:{type:"number"},name:{type:"string"},members:{type:"number"},privacy:{type:"number"},lang:{type:"string"},ispoolmoderated:{type:"boolean"},total:{type:"number"},page:{type:"number"},per_page:{type:"number"},pages:{type:"number"},topics:{type:"array",items:{$ref:"#/definitions/Topic"}}}}}}}},"/rest?method=flickr.groups.discuss.replies.getInfo":{get:{operationId:"getGroupTopicRepliesByID",description:"Get information on a group topic reply",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"group_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"},{name:"topic_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"reply_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{reply:{$ref:"#/definitions/TopicReply"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.groups.discuss.topics.getInfo":{get:{operationId:"getGroupTopicByID",description:"Get information about a group discussion topic",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"group_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"},{name:"topic_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{topic:{$ref:"#/definitions/Topic"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.groups.pools.getContext":{get:{operationId:"getGroupPhotosByID",description:"Returns next and previous photos for a photo in a group pool",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"group_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{count:{type:"object",properties:{_content:{type:"string"}}},prevphoto:{$ref:"#/definitions/ContextPhoto"},nextphoto:{$ref:"#/definitions/ContextPhoto"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photolist.getContext":{get:{operationId:"getPhotolistContextByID",description:"Returns next and previous photos in a photo list",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"photolist_id",in:"query",required:true,type:"string"}],responses:{200:{description:"OK",schema:{type:"object",properties:{count:{type:"object",properties:{_content:{type:"string"}}},prevphoto:{$ref:"#/definitions/ContextPhoto"},nextphoto:{$ref:"#/definitions/ContextPhoto"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photos.getContext":{get:{operationId:"getPhotostreamContextByID",description:"Returns next and previous photos for a photo in a photostream",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{count:{type:"object",properties:{_content:{type:"string"}}},prevphoto:{$ref:"#/definitions/ContextPhoto"},nextphoto:{$ref:"#/definitions/ContextPhoto"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photos.licenses.getInfo":{get:{operationId:"getLicenseByID",description:"Fetches a list of available photo licenses for Flickr",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"}],responses:{200:{description:"OK",schema:{type:"object",properties:{licenses:{type:"object",properties:{license:{type:"array",items:{type:"object",properties:{id:{type:"integer"},name:{type:"string"},url:{type:"string"}}}}}},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.people.getInfo":{get:{operationId:"getPersonByID",description:"Returns a person",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"user_id",in:"query",required:false,type:"string",pattern:"^([0-9]+@N[0-9]+)|([0-9a-zA-Z-_]+)$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{person:{$ref:"#/definitions/Person"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photos.getExif":{get:{operationId:"getPhotoExifByID",description:"Retrieves a list of EXIF/TIFF/GPS tags for a given photo. The calling user must have permission to view the photo.",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"secret",in:"query",required:false,type:"string"}],responses:{200:{description:"OK",schema:{type:"object",properties:{photo:{type:"object",properties:{id:{type:"string"},secret:{type:"string"},server:{type:"string"},farm:{type:"string"},camera:{type:"string"},exif:{type:"array",items:{type:"object",properties:{tagspace:{type:"string"},tagspaceid:{type:"string"},tag:{type:"string"},label:{type:"string"},raw:{type:"object",properties:{_content:{type:"string"}}}}}}}},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photos.getInfo":{get:{operationId:"getPhotoByID",description:"Returns a photo",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"a photo",schema:{type:"object",properties:{photo:{$ref:"#/definitions/Photo"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photos.getSizes":{get:{
operationId:"getPhotoSizesByID",description:"Returns photo sizes",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"Photo sizes",schema:{type:"object",properties:{sizes:{type:"object",properties:{canblog:{type:"number"},canprint:{type:"number"},candownload:{type:"number"},sizes:{type:"array",items:{$ref:"#/definitions/Size"}}}},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photosets.getContext":{get:{operationId:"getAlbumContextByID",description:"Returns next and previous photos for a photo in a set",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photo_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"photoset_id",in:"query",required:false,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{count:{type:"object",properties:{_content:{type:"string"}}},prevphoto:{$ref:"#/definitions/ContextPhoto"},nextphoto:{$ref:"#/definitions/ContextPhoto"},stat:{$ref:"#/definitions/Stat"}}}}}}},"/rest?method=flickr.photosets.getPhotos":{get:{operationId:"getAlbumByID",description:"Returns a list of photos in an album.",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"photoset_id",in:"query",required:true,type:"string",pattern:"^[0-9]+$"}],responses:{200:{description:"OK",schema:{type:"object",properties:{photoset:{type:"array",items:{$ref:"#/definitions/Photo"}}}}}}}},"/rest?method=flickr.galleries.getPhotos":{get:{operationId:"getGalleryPhotosByID",description:"Returns a list of photos in a gallery.",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"gallery_id",in:"query",required:true,type:"string"}],responses:{200:{description:"OK",schema:{type:"object",properties:{photos:{type:"array",items:{$ref:"#/definitions/Photo"}}}}}}}},"/rest?method=flickr.photos.search":{get:{operationId:"getMediaBySearch",description:"Return a list of photos matching some criteria.",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"text",description:"A free text search. Photos who's title, description or tags contain the text will be returned. You can exclude results that match a term by prepending it with a - character.",in:"query",type:"string"},{name:"tags",description:"A comma-delimited list of tags. Photos with one or more of the tags listed will be returned. You can exclude results that match a term by prepending it with a - character.",in:"query",type:"string"},{name:"user_id",description:"The NSID of the user who's photo to search. If this parameter isn't passed then everybody's public photos will be searched. A value of \"me\" will search against the calling user's photos for authenticated calls.",in:"query",type:"string"},{name:"min_upload_date",description:"Minimum upload date. Photos with an upload date greater than or equal to this value will be returned. The date can be in the form of a unix timestamp or mysql datetime.",in:"query",type:"string"},{name:"max_upload_date",description:"Maximum upload date. Photos with an upload date less than or equal to this value will be returned. The date can be in the form of a unix timestamp or mysql datetime.",in:"query",type:"string"},{name:"min_taken_date",description:"Minimum taken date. Photos with an taken date greater than or equal to this value will be returned. The date can be in the form of a mysql datetime or unix timestamp.",in:"query",type:"string"},{name:"max_taken_date",description:"Maximum taken date. Photos with an taken date less than or equal to this value will be returned. The date can be in the form of a mysql datetime or unix timestamp.",in:"query",type:"string"},{name:"license",description:"The license id for photos (for possible values see the flickr.photos.licenses.getInfo method). Multiple licenses may be comma-separated.",in:"query",type:"string"},{name:"sort",description:"The order in which to sort returned photos. Deafults to date-posted-desc (unless you are doing a radial geo query, in which case the default sorting is by ascending distance from the point specified). The possible values are:\n  date-posted-asc,\n  date-posted-desc,\n  date-taken-asc,\n  date-taken-desc,\n  interestingness-desc,\n  interestingness-asc, and\n  relevance.\n",in:"query",type:"string"},{name:"privacy_filter",description:"Return photos only matching a certain privacy level. This only applies when making an authenticated call to view photos you own. Valid values are:,\n  1: public photos,\n  2: private photos visible to friends,\n  3: private photos visible to family,\n  4: private photos visible to friends & family,\n  5: completely private photos\n",in:"query",type:"number"},{name:"bbox",description:"A comma-delimited list of 4 values defining the Bounding Box of the area that will be searched.",in:"query",type:"string"},{name:"accuracy",description:"Recorded accuracy level of the location information. Current range is 1-16:\n  World level is 1\n  Country is ~3\n  Region is ~6\n  City is ~11\n  Street is ~16\n",in:"query",type:"string"},{name:"safe_search",description:"Safe search setting:\n  1: for safe,\n  2: for moderate,\n  3: for restricted\n",in:"query",type:"number"},{name:"content_type",description:"Content Type setting:\n  1: photos only.\n  2: screenshots only.\n  3: 'other' only.\n  4: photos and screenshots.\n  5: screenshots and 'other'.\n  6: photos and 'other'.\n  7: photos, screenshots, and 'other' (all).\n",in:"query",type:"number"},{name:"machine_tags",description:'Aside from passing in a fully formed machine tag, there is a special syntax for searching on specific properties : Find photos using the \'dc\' namespace : "machine_tags" => "dc:" Find photos with a title in the \'dc\' namespace : "machine_tags" => "dc:title=" Find photos titled "mr. camera" in the \'dc\' namespace : "machine_tags" => "dc:title=\\"mr. camera\\" Find photos whose value is "mr. camera" : "machine_tags" => "*:*=\\"mr. camera\\"" Find photos that have a title, in any namespace : "machine_tags" => "*:title=" Find photos that have a title, in any namespace, whose value is "mr. camera" : "machine_tags" => "*:title=\\"mr. camera\\"" Find photos, in the \'dc\' namespace whose value is "mr. camera" : "machine_tags" => "dc:*=\\"mr. camera\\"" Multiple machine tags may be queried by passing a comma-separated list. The number of machine tags you can pass in a single query depends on the tag mode (AND or OR) that you are querying with. "AND" queries are limited to (16) machine tags. "OR" queries are limited to (8).\n',in:"query",type:"string"},{name:"machine_tag_mode",description:"Either 'any' for an OR combination of tags, or 'all' for an AND combination. Defaults to 'any' if not specified.",in:"query",type:"string"},{name:"group_id",description:"The id of a group who's pool to search. If specified, only matching photos posted to the group's pool will be returned.",in:"query",type:"string"},{name:"contacts",description:"Search your contacts. Either 'all' or 'ff' for just friends and family. (Experimental)",in:"query",type:"string"},{name:"woe_id",description:"A 32-bit identifier that uniquely represents spatial entities. (not used if bbox argument is present).",in:"query",type:"string"},{name:"place_id",description:'A Flickr place id. (not used if bbox argument is present). Geo queries require some sort of limiting agent in order to prevent the database from crying. This is basically like the check against "parameterless searches" for queries without a geo component. A tag, for instance, is considered a limiting agent as are user defined min_date_taken and min_date_upload parameters — If no limiting factor is passed we return only photos added in the last 12 hours (though we may extend the limit in the future).\n',in:"query",type:"string"},{name:"media",description:"Filter results by media type. Possible values are all (default), photos or videos",in:"query",type:"string"},{name:"has_geo",description:'Any photo that has been geotagged, or if the value is "0" any photo that has not been geotagged. Geo queries require some sort of limiting agent in order to prevent the database from crying. This is basically like the check against "parameterless searches" for queries without a geo component. A tag, for instance, is considered a limiting agent as are user defined min_date_taken and min_date_upload parameters — If no limiting factor is passed we return only photos added in the last 12 hours (though we may extend the limit in the future).\n',in:"query",type:"string"},{name:"geo_context",description:'Geo context is a numeric value representing the photo\'s geotagginess beyond latitude and longitude. For example, you may wish to search for photos that were taken "indoors" or "outdoors". The current list of context IDs is: 0, not defined. 1, indoors. 2, outdoors. Geo queries require some sort of limiting agent in order to prevent the database from crying. This is basically like the check against "parameterless searches" for queries without a geo component. A tag, for instance, is considered a limiting agent as are user defined min_date_taken and min_date_upload parameters — If no limiting factor is passed we return only photos added in the last 12 hours (though we may extend the limit in the future).\n',in:"query",type:"string"},{name:"lat",description:'A valid latitude, in decimal format, for doing radial geo queries. Geo queries require some sort of limiting agent in order to prevent the database from crying. This is basically like the check against "parameterless searches" for queries without a geo component. A tag, for instance, is considered a limiting agent as are user defined min_date_taken and min_date_upload parameters — If no limiting factor is passed we return only photos added in the last 12 hours (though we may extend the limit in the future).\n',in:"query",type:"string"},{name:"lon",description:'A valid longitude, in decimal format, for doing radial geo queries. Geo queries require some sort of limiting agent in order to prevent the database from crying. This is basically like the check against "parameterless searches" for queries without a geo component. A tag, for instance, is considered a limiting agent as are user defined min_date_taken and min_date_upload parameters — If no limiting factor is passed we return only photos added in the last 12 hours (though we may extend the limit in the future).\n',in:"query",type:"string"},{name:"radius",description:"A valid radius used for geo queries, greater than zero and less than 20 miles (or 32 kilometers), for use with point-based geo queries. The default value is 5 (km).",in:"query",type:"number"},{name:"radius_units",description:'The unit of measure when doing radial geo queries. Valid options are "mi" (miles) and "km" (kilometers). The default is "km".',in:"query",type:"string"},{name:"is_commons",description:"Limit the scope of the search to only photos that are part of the Flickr Commons project. Default is false.",in:"query",type:"boolean"},{name:"in_gallery",description:"Limit the scope of the search to only photos that are in a gallery? Default is false, search all photos.",in:"query",type:"boolean"},{name:"is_getty",description:"Limit the scope of the search to only photos that are for sale on Getty. Default is false.",in:"query",type:"boolean"},{name:"per_page",description:"Number of photos to return per page. If this argument is omitted, it defaults to 100. The maximum allowed value is 500.",in:"query",type:"number"},{name:"page",description:"The page of results to return. If this argument is omitted, it defaults to 1.",in:"query",type:"number"}],responses:{200:{description:"OK",schema:{type:"object",properties:{page:{type:"number"},pages:{type:"number"},perpage:{type:"number"},total:{type:"number"},photos:{type:"array",items:{$ref:"#/definitions/Photo"}}}}}}}},"/upload":{post:{operationId:"uploadPhoto",description:"Uploads a new photo to Flickr",tags:["Public"],parameters:[{name:"api_key",in:"formData",required:true,type:"string"},{name:"photo",in:"formData",required:true,type:"file"},{name:"title",in:"formData",required:false,type:"string"},{name:"description",in:"formData",required:false,type:"string"},{name:"tags",in:"formData",required:false,type:"string"},{name:"is_public",in:"formData",required:false,type:"string",enum:["0","1"]},{name:"is_friend",in:"formData",required:false,type:"string",enum:["0","1"]},{name:"is_family",in:"formData",required:false,type:"string",enum:["0","1"]},{name:"safety_level",in:"formData",required:false,type:"string",enum:["1","2","3"]},{name:"content_type",in:"formData",required:false,type:"string",enum:["1","2","3"]},{name:"hidden",in:"formData",required:false,type:"string",enum:["1","2"]}],responses:{200:{description:"OK",schema:{type:"object"}}}}},"/rest?method=flickr.test.echo":{get:{operationId:"echo",description:"Echos the input parameters back in the response",tags:["Public"],parameters:[{name:"api_key",in:"query",required:true,type:"string"},{name:"echo",in:"query",required:false,type:"string"}],responses:{200:{description:"OK",schema:{type:"object",properties:{echo:{type:"object",properties:{_content:{type:"string"}}}}}}}}},"/oauth/request_token":{get:{operationId:"getRequestToken",description:"Returns an oauth token and oauth token secret",tags:["Public"],parameters:[{name:"oauth_consumer_key",in:"query",required:true,type:"string"},{name:"oauth_nonce",in:"query",required:true,type:"string"},{name:"oauth_timestamp",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"oauth_signature_method",in:"query",required:true,type:"string"},{name:"oauth_version",in:"query",required:true,type:"string"},{name:"oauth_signature",in:"query",required:true,type:"string"},{name:"oauth_callback",in:"query",required:true,type:"string",pattern:"^http.*$"}],responses:{200:{description:"OK",schema:{type:"string"}}}}},"/oauth/access_token":{get:{operationId:"getAccessToken",description:"Returns an access token",tags:["Public"],parameters:[{name:"oauth_consumer_key",in:"query",required:true,type:"string"},{name:"oauth_nonce",in:"query",required:true,type:"string"},{name:"oauth_timestamp",in:"query",required:true,type:"string",pattern:"^[0-9]+$"},{name:"oauth_signature_method",in:"query",required:true,type:"string"},{name:"oauth_version",in:"query",required:true,type:"string"},{name:"oauth_signature",in:"query",required:true,type:"string"},{name:"oauth_verifier",in:"query",required:true,type:"string"},{name:"oauth_token",in:"query",required:true,type:"string"}],responses:{200:{description:"OK",schema:{type:"string"}}}}}},definitions:{ContextPhoto:{type:"object",properties:{id:{type:"string"},secret:{type:"string"},server:{type:"string"},farm:{type:"string"},title:{type:"string"},url:{type:"string"},thumb:{type:"string"},media:{type:"string"},owner:{type:"string"},license:{type:"integer"},safe:{type:"boolean"},is_faved:{type:"boolean"}}},ContextPhotos:{type:"object",properties:{photos:{type:"array",items:{$ref:"#/definitions/ContextPhoto"}}}},Cover:{type:"object",properties:{id:{type:"string"},owner:{type:"string"},secret:{type:"string"},server:{type:"string"},farm:{type:"string"},title:{type:"string"},ispublic:{type:"boolean"},isfriend:{type:"boolean"},isfamily:{type:"boolean"},y:{type:"string"}}},Group:{type:"object",properties:{id:{type:"string"},path_alias:{type:"string"},iconserver:{type:"string"},iconfarm:{type:"string"},name:{type:"object",properties:{_content:{type:"string"}}},description:{type:"object",properties:{_content:{type:"string"}}},rules:{type:"object",properties:{_content:{type:"string"}}},members:{type:"object",properties:{_content:{type:"string"}}},pool_count:{type:"object",properties:{_content:{type:"string"}}},topic_count:{type:"object",properties:{_content:{type:"string"}}},privacy:{type:"object",properties:{_content:{type:"string"}}},lang:{type:"string"},ispoolmoderated:{type:"boolean"},roles:{type:"object",properties:{member:{type:"string"},moderator:{type:"string"},admin:{type:"string"}}},pool_rows:{type:"integer"},coverphoto_server:{type:"string"},coverphoto_farm:{type:"string"},coverphoto_url:{$ref:"#/definitions/PhotoURLs"},is_member:{type:"boolean"},is_moderator:{type:"boolean"},is_admin:{type:"boolean"},blast:{type:"object",properties:{_content:{type:"string"},date_blast_added:{type:"string"},user_id:{type:"string"}}},throttle:{type:"object",properties:{count:{type:"integer"},mode:{type:"string"},remaining:{type:"string"}}},restrictions:{type:"object",properties:{photos_ok:{type:"boolean"},videos_ok:{type:"boolean"},images_ok:{type:"boolean"},screens_ok:{type:"boolean"},art_ok:{type:"boolean"},safe_ok:{type:"boolean"},moderate_ok:{type:"boolean"},restricted_ok:{type:"boolean"},has_geo:{type:"boolean"}}},cover:{$ref:"#/definitions/Cover"}}},Note:{type:"object",properties:{description:{type:"string"}}},Owner:{type:"object",properties:{nsid:{type:"string"},username:{type:"string"},realname:{type:"string"},location:{type:"string"},iconserver:{type:"string"},iconfarm:{type:"string"},path_alias:{type:"string"},noindexfollow:{type:"boolean"},ispro:{type:"boolean"},is_ad_free:{type:"boolean"}}},Person:{type:"object",properties:{id:{type:"string"},nsid:{type:"string"},ispro:{type:"boolean"},can_buy_pro:{type:"boolean"},iconserver:{type:"string"},iconfarm:{type:"string"},path_alias:{type:"string"},has_stats:{type:"boolean"},coverphoto_server:{type:"string"},coverphoto_farm:{type:"string"},is_ad_free:{type:"boolean"},coverphoto:{$ref:"#/definitions/PhotoURLs"},expire:{type:"boolean"},user_secret:{type:"string"},username:{type:"object",properties:{_content:{type:"string"}}},realname:{type:"object",properties:{_content:{type:"string"}}},mbox_sha1sum:{type:"object",properties:{_content:{type:"string"}}},location:{type:"object",properties:{_content:{type:"string"}}},timezone:{type:"object",properties:{label:{type:"string"},offset:{type:"string"},timezone_id:{type:"string"}}},description:{type:"object",properties:{_content:{type:"string"}}},photosurl:{type:"object",properties:{_content:{type:"string"}}},profileurl:{type:"object",properties:{_content:{type:"string"}}},mobileurl:{type:"object",properties:{_content:{type:"string"}}},photos:{type:"object",properties:{firstdatetaken:{type:"object",properties:{_content:{type:"string"}}},firstdate:{type:"object",properties:{_content:{type:"string"}}},count:{type:"object",properties:{_content:{type:"string"}}},views:{type:"object",properties:{_content:{type:"string"}}}}},yintl:{type:"string"},unread_messages:{type:"object",properties:{_content:{type:"string"}}},cover:{$ref:"#/definitions/Cover"},disable_keyboard_shortcuts:{type:"object",properties:{_content:{type:"string"}}}}},Photo:{type:"object",properties:{id:{type:"string"},secret:{type:"string"},server:{type:"string"},farm:{type:"string"},dateuploaded:{type:"string"},isfavorite:{type:"boolean"},license:{type:"string"},safety_level:{type:"string"},rotation:{type:"string"},originalsecret:{type:"string"},owner:{$ref:"#/definitions/Owner"},title:{type:"object",properties:{_content:{type:"string"}}},description:{type:"object",properties:{_content:{type:"string"}}},visibility:{type:"object",properties:{ispublic:{type:"boolean"},isfriend:{type:"boolean"},isfamily:{type:"boolean"}}},dates:{type:"object",properties:{posted:{type:"string"},taken:{type:"string"},takengranularity:{type:"string"},takenunknown:{type:"boolean"},lastupdate:{type:"string"}}},permissions:{type:"object",properties:{permcomment:{type:"string"},permaddmeta:{type:"string"}}},views:{type:"string"},editability:{type:"object",properties:{cancomment:{type:"boolean"},canaddmeta:{type:"boolean"}}},publiceditability:{type:"object",properties:{cancomment:{type:"boolean"},canaddmeta:{type:"boolean"}}},usage:{type:"object",properties:{candownload:{type:"boolean"},canblog:{type:"boolean"},canprint:{type:"boolean"},canshare:{type:"boolean"}}},comments:{type:"object",properties:{_content:{type:"string"}}},notes:{type:"object",properties:{note:{type:"array",items:{$ref:"#/definitions/Note"}}}},people:{type:"object",properties:{haspeople:{type:"boolean"}}},tags:{type:"object",properties:{tag:{type:"array",items:{$ref:"#/definitions/Tag"}}}},urls:{type:"object",properties:{url:{type:"array",items:{$ref:"#/definitions/URL"}}}},safe:{type:"boolean"},media:{type:"string"}}},PhotoURLs:{type:"object",properties:{h:{type:"string"},l:{type:"string"},s:{type:"string"},t:{type:"string"}}},Stat:{type:"string"},Tag:{type:"object",properties:{id:{type:"string"},author:{type:"string"},authorname:{type:"string"},raw:{type:"string"},_content:{type:"string"},machine_tag:{type:"boolean"}}},Topic:{type:"object",properties:{id:{type:"string"},subject:{type:"string"},message:{type:"object",properties:{_content:{type:"string"}}},author:{type:"string"},authorname:{type:"string"},author_path_alias:{type:"string"},author_is_deleted:{type:"boolean"},is_pro:{type:"boolean"},role:{type:"string"},iconserver:{type:"string"},iconfarm:{type:"string"},count_replies:{type:"integer"},can_edit:{type:"boolean"},can_delete:{type:"boolean"},can_reply:{type:"boolean"},is_sticky:{type:"boolean"},is_locked:{type:"boolean"},datecreate:{type:"string"},datelastpost:{type:"string"},last_reply:{type:"string"},lastedit:{type:"string"}}},TopicReply:{type:"object",properties:{id:{type:"string"},message:{type:"object",properties:{_content:{type:"string"}}},author:{type:"string"},authorname:{type:"string"},author_path_alias:{type:"string"},author_is_deleted:{type:"boolean"},is_pro:{type:"boolean"},iconserver:{type:"string"},iconfarm:{type:"string"},can_edit:{type:"boolean"},can_delete:{type:"boolean"},datecreate:{type:"string"},lastedit:{type:"string"}}},URL:{type:"object",properties:{type:{type:"string"},_content:{type:"string"}}},Album:{type:"object",properties:{id:{type:"string"},primary:{type:"string"},secret:{type:"string"},server:{type:"string"},farm:{type:"string"},photos:{type:"number"},videos:{type:"number"},count_views:{type:"number"},count_comments:{type:"number"},can_comment:{type:"boolean"},date_create:{type:"number"},date_update:{type:"number"},title:{type:"string"},description:{type:"string"}}},Size:{type:"object",properties:{label:{type:"string"},width:{type:"number"},height:{type:"number"},source:{type:"string"},url:{type:"string"},media:{type:"string"}}}}}},{}],20:[function(require,module,exports){module.exports=require("./dist/schema.json")},{"./dist/schema.json":19}],21:[function(require,module,exports){(function(global){(function UMD(name,context,definition){context[name]=context[name]||definition();if(typeof module!="undefined"&&module.exports){module.exports=context[name]}else if(typeof define=="function"&&define.amd){define(function $AMD$(){return context[name]})}})("Promise",typeof global!="undefined"?global:this,function DEF(){"use strict";var builtInProp,cycle,scheduling_queue,ToString=Object.prototype.toString,timer=typeof setImmediate!="undefined"?function timer(fn){return setImmediate(fn)}:setTimeout;try{Object.defineProperty({},"x",{});builtInProp=function builtInProp(obj,name,val,config){return Object.defineProperty(obj,name,{value:val,writable:true,configurable:config!==false})}}catch(err){builtInProp=function builtInProp(obj,name,val){obj[name]=val;return obj}}scheduling_queue=function Queue(){var first,last,item;function Item(fn,self){this.fn=fn;this.self=self;this.next=void 0}return{add:function add(fn,self){item=new Item(fn,self);if(last){last.next=item}else{first=item}last=item;item=void 0},drain:function drain(){var f=first;first=last=cycle=void 0;while(f){f.fn.call(f.self);f=f.next}}}}();function schedule(fn,self){scheduling_queue.add(fn,self);if(!cycle){cycle=timer(scheduling_queue.drain)}}function isThenable(o){var _then,o_type=typeof o;if(o!=null&&(o_type=="object"||o_type=="function")){_then=o.then}return typeof _then=="function"?_then:false}function notify(){for(var i=0;i<this.chain.length;i++){notifyIsolated(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i])}this.chain.length=0}function notifyIsolated(self,cb,chain){var ret,_then;try{if(cb===false){chain.reject(self.msg)}else{if(cb===true){ret=self.msg}else{ret=cb.call(void 0,self.msg)}if(ret===chain.promise){chain.reject(TypeError("Promise-chain cycle"))}else if(_then=isThenable(ret)){_then.call(ret,chain.resolve,chain.reject)}else{chain.resolve(ret)}}}catch(err){chain.reject(err)}}function resolve(msg){var _then,self=this;if(self.triggered){return}self.triggered=true;if(self.def){self=self.def}try{if(_then=isThenable(msg)){schedule(function(){var def_wrapper=new MakeDefWrapper(self);try{_then.call(msg,function $resolve$(){resolve.apply(def_wrapper,arguments)},function $reject$(){reject.apply(def_wrapper,arguments)})}catch(err){reject.call(def_wrapper,err)}})}else{self.msg=msg;self.state=1;if(self.chain.length>0){schedule(notify,self)}}}catch(err){reject.call(new MakeDefWrapper(self),err)}}function reject(msg){var self=this;if(self.triggered){return}self.triggered=true;if(self.def){self=self.def}self.msg=msg;self.state=2;if(self.chain.length>0){schedule(notify,self)}}function iteratePromises(Constructor,arr,resolver,rejecter){for(var idx=0;idx<arr.length;idx++){(function IIFE(idx){Constructor.resolve(arr[idx]).then(function $resolver$(msg){resolver(idx,msg)},rejecter)})(idx)}}function MakeDefWrapper(self){this.def=self;this.triggered=false}function MakeDef(self){this.promise=self;this.state=0;this.triggered=false;this.chain=[];this.msg=void 0}function Promise(executor){if(typeof executor!="function"){throw TypeError("Not a function")}if(this.__NPO__!==0){throw TypeError("Not a promise")}this.__NPO__=1;var def=new MakeDef(this);this["then"]=function then(success,failure){var o={success:typeof success=="function"?success:true,failure:typeof failure=="function"?failure:false};o.promise=new this.constructor(function extractChain(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}o.resolve=resolve;o.reject=reject});def.chain.push(o);if(def.state!==0){schedule(notify,def)}return o.promise};this["catch"]=function $catch$(failure){return this.then(void 0,failure)};try{executor.call(void 0,function publicResolve(msg){resolve.call(def,msg)},function publicReject(msg){reject.call(def,msg)})}catch(err){reject.call(def,err)}}var PromisePrototype=builtInProp({},"constructor",Promise,false);Promise.prototype=PromisePrototype;builtInProp(PromisePrototype,"__NPO__",0,false);builtInProp(Promise,"resolve",function Promise$resolve(msg){var Constructor=this;if(msg&&typeof msg=="object"&&msg.__NPO__===1){return msg}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}resolve(msg)})});builtInProp(Promise,"reject",function Promise$reject(msg){return new this(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}reject(msg)})});builtInProp(Promise,"all",function Promise$all(arr){var Constructor=this;if(ToString.call(arr)!="[object Array]"){return Constructor.reject(TypeError("Not an array"))}if(arr.length===0){return Constructor.resolve([])}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}var len=arr.length,msgs=Array(len),count=0;iteratePromises(Constructor,arr,function resolver(idx,msg){msgs[idx]=msg;if(++count===len){resolve(msgs)}},reject)})});builtInProp(Promise,"race",function Promise$race(arr){var Constructor=this;if(ToString.call(arr)!="[object Array]"){return Constructor.reject(TypeError("Not an array"))}return new Constructor(function executor(resolve,reject){if(typeof resolve!="function"||typeof reject!="function"){throw TypeError("Not a function")}iteratePromises(Constructor,arr,function resolver(idx,msg){resolve(msg)},reject)})});return Promise})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],22:[function(require,module,exports){var Emitter=require("emitter");var reduce=require("reduce");var requestBase=require("./request-base");var isObject=require("./is-object");var root;if(typeof window!=="undefined"){root=window}else if(typeof self!=="undefined"){root=self}else{root=this}function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}var request=module.exports=require("./request").bind(null,Request);request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||"file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pushEncodedKeyValuePair(pairs,key,obj[key])}}return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(Array.isArray(val)){return val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)})}pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val))}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var parts;var pair;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];parts=pair.split("=");obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1])}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function isJSON(mime){return/[\/+]json\b/.test(mime)}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();if(key&&val)obj[key]=val;return obj},{})}function Response(req,options){options=options||{};this.req=req;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;this.setStatusProperties(this.xhr.status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text?this.text:this.xhr.response):null}Response.prototype.get=function(field){return this.header[field.toLowerCase()]};Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]};Response.prototype.parseBody=function(str){var parse=request.parse[this.type];if(!parse&&isJSON(this.type)){parse=request.parse["application/json"]}
return parse&&str&&(str.length||str instanceof Object)?parse(str):null};Response.prototype.setStatusProperties=function(status){if(status===1223){status=204}var type=status/100|0;this.status=this.statusCode=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.notFound=404==status;this.forbidden=403==status};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg="cannot "+method+" "+url+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err};request.Response=Response;function Request(method,url){var self=this;this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var err=null;var res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response");err.parse=true;err.original=e;err.rawResponse=self.xhr&&self.xhr.responseText?self.xhr.responseText:null;err.statusCode=self.xhr&&self.xhr.status?self.xhr.status:null;return self.callback(err)}self.emit("response",res);if(err){return self.callback(err,res)}if(res.status>=200&&res.status<300){return self.callback(err,res)}var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err;new_err.response=res;new_err.status=res.status;self.callback(new_err,res)})}Emitter(Request.prototype);for(var key in requestBase){Request.prototype[key]=requestBase[key]}Request.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.responseType=function(val){this._responseType=val;return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass,options){if(!options){options={type:"basic"}}switch(options.type){case"basic":var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);break;case"auto":this.username=user;this.password=pass;break}return this};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.attach=function(field,file,filename){this._getFormData().append(field,file,filename||file.name);return this};Request.prototype._getFormData=function(){if(!this._formData){this._formData=new root.FormData}return this._formData};Request.prototype.send=function(data){var obj=isObject(data);var type=this._header["content-type"];if(obj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this._header["content-type"];if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!obj||isHost(data))return this;if(!type)this.type("json");return this};Response.prototype.parse=function serialize(fn){if(root.console){console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0")}this.serialize(fn);return this};Response.prototype.serialize=function serialize(fn){this._parser=fn;return this};Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout();fn(err,res)};Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=true;err.status=this.status;err.method=this.method;err.url=this.url;this.callback(err)};Request.prototype.timeoutError=function(){var timeout=this._timeout;var err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout;this.callback(err)};Request.prototype.withCredentials=function(){this._withCredentials=true;return this};Request.prototype.end=function(fn){var self=this;var xhr=this.xhr=request.getXHR();var query=this._query.join("&");var timeout=this._timeout;var data=this._formData||this._data;this._callback=fn||noop;xhr.onreadystatechange=function(){if(4!=xhr.readyState)return;var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")};var handleProgress=function(e){if(e.total>0){e.percent=e.loaded/e.total*100}e.direction="download";self.emit("progress",e)};if(this.hasListeners("progress")){xhr.onprogress=handleProgress}try{if(xhr.upload&&this.hasListeners("progress")){xhr.upload.onprogress=handleProgress}}catch(e){}if(timeout&&!this._timer){this._timer=setTimeout(function(){self.timedout=true;self.abort()},timeout)}if(query){query=request.serializeObject(query);this.url+=~this.url.indexOf("?")?"&"+query:"?"+query}if(this.username&&this.password){xhr.open(this.method,this.url,true,this.username,this.password)}else{xhr.open(this.method,this.url,true)}if(this._withCredentials)xhr.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var contentType=this._header["content-type"];var serialize=this._parser||request.serialize[contentType?contentType.split(";")[0]:""];if(!serialize&&isJSON(contentType))serialize=request.serialize["application/json"];if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field])}if(this._responseType){xhr.responseType=this._responseType}this.emit("request",this);xhr.send(typeof data!=="undefined"?data:null);return this};request.Request=Request;request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};function del(url,fn){var req=request("DELETE",url);if(fn)req.end(fn);return req}request["del"]=del;request["delete"]=del;request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req}},{"./is-object":23,"./request":25,"./request-base":24,emitter:26,reduce:27}],23:[function(require,module,exports){function isObject(obj){return null!=obj&&"object"==typeof obj}module.exports=isObject},{}],24:[function(require,module,exports){var isObject=require("./is-object");exports.clearTimeout=function _clearTimeout(){this._timeout=0;clearTimeout(this._timer);return this};exports.parse=function parse(fn){this._parser=fn;return this};exports.timeout=function timeout(ms){this._timeout=ms;return this};exports.then=function then(fulfill,reject){return this.end(function(err,res){err?reject(err):fulfill(res)})};exports.use=function use(fn){fn(this);return this};exports.get=function(field){return this._header[field.toLowerCase()]};exports.getHeader=exports.get;exports.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};exports.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this};exports.field=function(name,val){this._getFormData().append(name,val);return this}},{"./is-object":23}],25:[function(require,module,exports){function request(RequestConstructor,method,url){if("function"==typeof url){return new RequestConstructor("GET",method).end(url)}if(2==arguments.length){return new RequestConstructor("GET",method)}return new RequestConstructor(method,url)}module.exports=request},{}],26:[function(require,module,exports){if(typeof module!=="undefined"){module.exports=Emitter}function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks["$"+event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks["$"+event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],27:[function(require,module,exports){module.exports=function(arr,fn,initial){var idx=0;var len=arr.length;var curr=arguments.length==3?initial:arr[idx++];while(idx<len){curr=fn.call(null,curr,arr[idx],++idx,arr)}return curr}},{}],28:[function(require,module,exports){var JsSHA=require("../vendor/jssha.js");module.exports={createHash:function(type){if(type==="sha1"){var ret=new JsSHA("SHA-1","TEXT"),oldUpdate=ret.update;ret.digest=function(type){if(type==="hex"){return ret.getHash("HEX")}};ret.update=function(str){oldUpdate.call(ret,str);return this};return ret}},createHmac:function(type,key){if(type==="sha1"){var ret=new JsSHA("SHA-1","TEXT"),oldUpdate=ret.update;ret.digest=function(type){if(type==="base64"){return ret.getHMAC("B64")}};ret.update=function(str){oldUpdate.call(ret,str);return this};ret.setHMACKey(key,"TEXT");return ret}}}},{"../vendor/jssha.js":30}],29:[function(require,module,exports){module.exports=require("crypto")},{crypto:15}],30:[function(require,module,exports){(function(E){function t(e,a,c){var g=0,b=[],d=0,f,k,l,h,m,w,n,q=!1,r=!1,p=[],t=[],v,u=!1;c=c||{};f=c.encoding||"UTF8";v=c.numRounds||1;l=y(a,f);if(v!==parseInt(v,10)||1>v)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)m=512,w=z,n=F,h=160;else throw Error("Chosen SHA variant is not supported");k=x(e);this.setHMACKey=function(a,b,d){var c;if(!0===r)throw Error("HMAC key already set");if(!0===q)throw Error("Cannot set HMAC key after finalizing hash");if(!0===u)throw Error("Cannot set HMAC key after calling update");f=(d||{}).encoding||"UTF8";b=y(b,f)(a);a=b.binLen;b=b.value;c=m>>>3;d=c/4-1;if(c<a/8){for(b=n(b,a,0,x(e));b.length<=d;)b.push(0);b[d]&=4294967040}else if(c>a/8){for(;b.length<=d;)b.push(0);b[d]&=4294967040}for(a=0;a<=d;a+=1)p[a]=b[a]^909522486,t[a]=b[a]^1549556828;k=w(p,k);g=m;r=!0};this.update=function(a){var e,c,f,h=0,n=m>>>5;e=l(a,b,d);a=e.binLen;c=e.value;e=a>>>5;for(f=0;f<e;f+=n)h+m<=a&&(k=w(c.slice(f,f+n),k),h+=m);g+=h;b=c.slice(h>>>5);d=a%m;u=!0};this.getHash=function(a,c){var f,l,m;if(!0===r)throw Error("Cannot call getHash after setting HMAC key");m=A(c);switch(a){case"HEX":f=function(a){return B(a,m)};break;case"B64":f=function(a){return C(a,m)};break;case"BYTES":f=D;break;default:throw Error("format must be HEX, B64, or BYTES")}if(!1===q)for(k=n(b,d,g,k),l=1;l<v;l+=1)k=n(k,h,0,x(e));q=!0;return f(k)};this.getHMAC=function(a,c){var f,l,p;if(!1===r)throw Error("Cannot call getHMAC without first setting HMAC key");p=A(c);switch(a){case"HEX":f=function(a){return B(a,p)};break;case"B64":f=function(a){return C(a,p)};break;case"BYTES":f=D;break;default:throw Error("outputFormat must be HEX, B64, or BYTES")}!1===q&&(l=n(b,d,g,k),k=w(t,x(e)),k=n(l,h,m,k));q=!0;return f(k)}}function G(e,a,c){var g=e.length,b,d,f,k,l;a=a||[0];c=c||0;l=c>>>3;if(0!==g%2)throw Error("String of HEX type must be in byte increments");for(b=0;b<g;b+=2){d=parseInt(e.substr(b,2),16);if(isNaN(d))throw Error("String of HEX type contains invalid characters");k=(b>>>1)+l;for(f=k>>>2;a.length<=f;)a.push(0);a[f]|=d<<8*(3-k%4)}return{value:a,binLen:4*g+c}}function H(e,a,c){var g=[],b,d,f,k,g=a||[0];c=c||0;d=c>>>3;for(b=0;b<e.length;b+=1)a=e.charCodeAt(b),k=b+d,f=k>>>2,g.length<=f&&g.push(0),g[f]|=a<<8*(3-k%4);return{value:g,binLen:8*e.length+c}}function I(e,a,c){var g=[],b=0,d,f,k,l,h,m,g=a||[0];c=c||0;a=c>>>3;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");f=e.indexOf("=");e=e.replace(/\=/g,"");if(-1!==f&&f<e.length)throw Error("Invalid '=' found in base-64 string");for(f=0;f<e.length;f+=4){h=e.substr(f,4);for(k=l=0;k<h.length;k+=1)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h[k]),l|=d<<18-6*k;for(k=0;k<h.length-1;k+=1){m=b+a;for(d=m>>>2;g.length<=d;)g.push(0);g[d]|=(l>>>16-8*k&255)<<8*(3-m%4);b+=1}}return{value:g,binLen:8*b+c}}function B(e,a){var c="",g=4*e.length,b,d;for(b=0;b<g;b+=1)d=e[b>>>2]>>>8*(3-b%4),c+="0123456789abcdef".charAt(d>>>4&15)+"0123456789abcdef".charAt(d&15);return a.outputUpper?c.toUpperCase():c}function C(e,a){var c="",g=4*e.length,b,d,f;for(b=0;b<g;b+=3)for(f=b+1>>>2,d=e.length<=f?0:e[f],f=b+2>>>2,f=e.length<=f?0:e[f],f=(e[b>>>2]>>>8*(3-b%4)&255)<<16|(d>>>8*(3-(b+1)%4)&255)<<8|f>>>8*(3-(b+2)%4)&255,d=0;4>d;d+=1)8*b+6*d<=32*e.length?c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6*(3-d)&63):c+=a.b64Pad;return c}function D(e){var a="",c=4*e.length,g,b;for(g=0;g<c;g+=1)b=e[g>>>2]>>>8*(3-g%4)&255,a+=String.fromCharCode(b);return a}function A(e){var a={outputUpper:!1,b64Pad:"="};e=e||{};a.outputUpper=e.outputUpper||!1;!0===e.hasOwnProperty("b64Pad")&&(a.b64Pad=e.b64Pad);if("boolean"!==typeof a.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!==typeof a.b64Pad)throw Error("Invalid b64Pad formatting option");return a}function y(e,a){var c;switch(a){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":c=G;break;case"TEXT":c=function(e,b,d){var f=[],c=[],l=0,h,m,p,n,q,f=b||[0];b=d||0;p=b>>>3;if("UTF8"===a)for(h=0;h<e.length;h+=1)for(d=e.charCodeAt(h),c=[],128>d?c.push(d):2048>d?(c.push(192|d>>>6),c.push(128|d&63)):55296>d||57344<=d?c.push(224|d>>>12,128|d>>>6&63,128|d&63):(h+=1,d=65536+((d&1023)<<10|e.charCodeAt(h)&1023),c.push(240|d>>>18,128|d>>>12&63,128|d>>>6&63,128|d&63)),m=0;m<c.length;m+=1){q=l+p;for(n=q>>>2;f.length<=n;)f.push(0);f[n]|=c[m]<<8*(3-q%4);l+=1}else if("UTF16BE"===a||"UTF16LE"===a)for(h=0;h<e.length;h+=1){d=e.charCodeAt(h);"UTF16LE"===a&&(m=d&255,d=m<<8|d>>>8);q=l+p;for(n=q>>>2;f.length<=n;)f.push(0);f[n]|=d<<8*(2-q%4);l+=2}return{value:f,binLen:8*l+b}};break;case"B64":c=I;break;case"BYTES":c=H;break;default:throw Error("format must be HEX, TEXT, B64, or BYTES")}return c}function r(e,a){return e<<a|e>>>32-a}function p(e,a){var c=(e&65535)+(a&65535);return((e>>>16)+(a>>>16)+(c>>>16)&65535)<<16|c&65535}function u(e,a,c,g,b){var d=(e&65535)+(a&65535)+(c&65535)+(g&65535)+(b&65535);return((e>>>16)+(a>>>16)+(c>>>16)+(g>>>16)+(b>>>16)+(d>>>16)&65535)<<16|d&65535}function x(e){if("SHA-1"===e)e=[1732584193,4023233417,2562383102,271733878,3285377520];else throw Error("No SHA variants supported");return e}function z(e,a){var c=[],g,b,d,f,k,l,h;g=a[0];b=a[1];d=a[2];f=a[3];k=a[4];for(h=0;80>h;h+=1)c[h]=16>h?e[h]:r(c[h-3]^c[h-8]^c[h-14]^c[h-16],1),l=20>h?u(r(g,5),b&d^~b&f,k,1518500249,c[h]):40>h?u(r(g,5),b^d^f,k,1859775393,c[h]):60>h?u(r(g,5),b&d^b&f^d&f,k,2400959708,c[h]):u(r(g,5),b^d^f,k,3395469782,c[h]),k=f,f=d,d=r(b,30),b=g,g=l;a[0]=p(g,a[0]);a[1]=p(b,a[1]);a[2]=p(d,a[2]);a[3]=p(f,a[3]);a[4]=p(k,a[4]);return a}function F(e,a,c,g){var b;for(b=(a+65>>>9<<4)+15;e.length<=b;)e.push(0);e[a>>>5]|=128<<24-a%32;e[b]=a+c;c=e.length;for(a=0;a<c;a+=16)g=z(e.slice(a,a+16),g);return g}"function"===typeof define&&define.amd?define(function(){return t}):"undefined"!==typeof exports?"undefined"!==typeof module&&module.exports?module.exports=exports=t:exports=t:E.jsSHA=t})(this)},{}],"flickr-sdk":[function(require,module,exports){var FlickrTransport=require("./lib/flickr-transport.js");var findDefinition=require("./lib/find-definition.js");var FlickrRequest=function(sdk,accessToken,accessTokenSecret){this.sdk=sdk;this.auth={accessToken:accessToken,accessTokenSecret:accessTokenSecret}};var FlickrSDK=function(config,options){this.config=config||{};this.transport=new FlickrTransport(config,options);this.findDefinition=findDefinition;return{request:function(accessToken,accessTokenSecret){return new FlickrRequest(this,accessToken,accessTokenSecret)}.bind(this)}};FlickrRequest.prototype.plugin=function(plugin){this.sdk.transport.plugins.push(plugin);return this};FlickrRequest.prototype.validate=require("./lib/sdk/validate");FlickrRequest.prototype.media=require("./lib/sdk/media");FlickrRequest.prototype.groups=require("./lib/sdk/groups");FlickrRequest.prototype.albums=require("./lib/sdk/albums");FlickrRequest.prototype.galleries=require("./lib/sdk/galleries");FlickrRequest.prototype.people=require("./lib/sdk/people");FlickrRequest.prototype.authentication=require("./lib/sdk/auth");module.exports=FlickrSDK},{"./lib/find-definition.js":1,"./lib/flickr-transport.js":2,"./lib/sdk/albums":6,"./lib/sdk/auth":7,"./lib/sdk/galleries":8,"./lib/sdk/groups":9,"./lib/sdk/media":10,"./lib/sdk/people":11,"./lib/sdk/validate":12}]},{},[]);